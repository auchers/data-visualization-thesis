webpackJsonp([1],{"0h4X":function(e,t){},"6XdH":function(e,t){},Ajec:function(e,t){},"E+gy":function(e,t){},"FYA/":function(e,t){},"I+/L":function(e,t){},Ikca:function(e,t){e.exports={styles:{initial:{style:"mapbox://styles/aucher/cj87xa4nv3xb02ro4j9o2hatb",center:{lng:-74.0066,lat:40.7135},zoom:13,pitch:60,bearing:32.8,container:"mapbox"},empty:{style:"mapbox://styles/aucher/cjgbaufzv1cw62qo7y8ln5bzj",center:{lng:-74.0066,lat:40.7135},zoom:13,pitch:60,bearing:32.8,container:"mapbox"}},layers:{full_green_roof_potential:{id:"full-green-roof-potential",name:"gr-potential",type:"fill-extrusion",source:{type:"vector",url:"mapbox://aucher.2u35uvcm"},"source-layer":"building-layer",filter:["has","shape_area"],paint:{"fill-extrusion-color":["step",["log10",["get","shape_area"]],"rgba(68,1,84,255)",1,"rgba(64,67,135,255)",2,"rgba(41,120,142,255)",3,"rgba(34,168,132,255)",4,"rgba(122,210,81,255)",5,"rgba(253,231,37,255)",6,"rgba(99,82,136,255)"]}},existing_green_roofs:{id:"existing-green-roof",type:"fill",source:{type:"vector",url:"mapbox://aucher.1kik7pca"},"source-layer":"green_roofs-d1x6o7",filter:["has","Id"],paint:{"fill-color":"#df00d2"}}}}},IzsO:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("7+uW"),s={name:"App",mounted:function(){ae.$on("clicked-map",function(e){console.log("payload: ",e)})}},n={render:function(){var e=this.$createElement;return(this._self._c||e)("router-view")},staticRenderFns:[]};var r=i("VU/8")(s,n,!1,function(e){i("kMrT")},null,null).exports,o=i("/ocq"),l=i("1e2d"),u=i.n(l),c=i("vwbq"),m=(i("xnE8"),i("Ikca")),d=i.n(m),p={name:"Map",data:function(){return{msg:"This is the Map Component",layers:"",labelLayerId:"",map:{}}},mounted:function(){var e=this,t=this;u.a.accessToken="pk.eyJ1IjoiYXVjaGVyIiwiYSI6ImNqODd4NnBndzFjZDQyd3FocnM4Njc2NWQifQ.dql4s6oWRANbYGt44i6n9A",this.map=new u.a.Map(d.a.styles.initial);var i=this.map;this.map.on("load",function(){t.layers=i.getStyle().layers;for(var e=0;e<t.layers.length;e++)if("symbol"===t.layers[e].type&&t.layers[e].layout["text-field"]){t.labelLayerId=t.layers[e].id;break}i.addLayer(d.a.layers.full_green_roof_potential,t.labelLayerId),i.addLayer(d.a.layers.existing_green_roofs)}),i.on("click",t.getFeaturesInView),ae.$on("waypoint",function(t){if(t.direction)if(t.el){if("0"===t.el);else if("1"===t.el){if("top"===t.direction){i.setFilter(d.a.layers.full_green_roof_potential.id,["all",["has","shape_area"],["<=","heightroof",200]])}}else if("2"===t.el&&"top"===t.direction){i.setFilter(d.a.layers.full_green_roof_potential.id,["all",["has","shape_area"],["<=","heightroof",200],[">=","shape_area",1e4]])}}else e.layers.forEach(function(e){i.setLayoutProperty(e.id,"visibility","visible")})})},methods:{getFeaturesInView:function(e){var t=this.map.queryRenderedFeatures({layers:["full-green-roof-potential"]}),i=c.a().value(function(e){return Math.log(e.properties.shape_area)})(t),a=t.reduce(function(e,t){return e.cnt=e.cnt+1,e.total_area=e.total_area+t.properties.shape_area,e},{cnt:0,total_area:0});this.$store.commit("storeSummary",a),this.$store.commit("storeHistogramBins",i)}}},v={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"mapbox"}})},staticRenderFns:[]};var h=i("VU/8")(p,v,!1,function(e){i("ewpq")},null,null).exports,f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"header"}},[t("p",[this._v(this._s(this.title))])])},staticRenderFns:[]};var g=i("VU/8")({name:"Header",data:function(){return{title:"Green Roofs in New York City"}},mounted:function(){}},f,!1,function(e){i("0h4X")},null,null).exports,_=i("bOdI"),b=i.n(_),y=i("fZjL"),x=i.n(y),q={name:"Histogram",data:function(){return{msg:"click anywhere on the map to see how the roof areas are distributed within your current view",width:null,height:null,x:null,y:null}},computed:{bins:function(){return this.$store.getters.getHistogramBins},layout:function(){var e,t=this,i=(x()(this.bins).map(function(e){return t.bins[e].x1}),x()(this.bins).map(function(e){return t.bins[e].length}));return this.x.domain([0,15]).range([0,this.width]),this.y.domain([0,c.b(i)]).range([0,this.height]),x()(this.bins).map((e=this,function(t,i,a){var s=e.bins[t];return{x:e.x(s.x0),y:e.y.range()[1]-e.y(s.length),width:e.x(s.x1)-e.x(s.x0),height:e.y(s.length)}}))}},methods:{getStyle:function(e){return{transform:"translate("+e.x0+"px, "+e.x1+"px)"}},getKey:function(e){return""+e.x0}},created:function(){this.x=c.c(),this.y=c.c()},mounted:function(){this.width=this.$refs.svg.getBoundingClientRect().width,this.height=this.$refs.svg.getBoundingClientRect().height}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"histogram"}},[t("p",[this._v(this._s(this.msg))]),this._v(" "),t("svg",{ref:"svg"},this._l(this.layout,function(e){return t("rect",{staticClass:"bar",attrs:{fill:"#aaa",y:e.y,width:e.width,height:e.height,x:e.x}})}))])},staticRenderFns:[]};var R=i("VU/8")(q,w,!1,function(e){i("E+gy")},null,null).exports,C=i("9OOc"),P=i.n(C);a.a.use(P.a);var E={name:"RightPanel",components:{Histogram:R},data:function(){return b()({msg:"Explore the Distribution of Roof Areas",div1Text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vitae nulla maximus magna fermentum condimentum eget non massa. Proin auctor nisi molestie velit lobortis vestibulum. Sed efficitur suscipit lorem sed aliquet. In vulputate, odio nec eleifend iaculis, metus leo sodales magna, eget tincidunt massa erat sit amet justo. In mollis enim at aliquam posuere. Nulla finibus sed quam eget bibendum. Aliquam quis ultricies mi. Cras nec molestie tellus. Donec ac interdum ex. Quisque vel ipsum vel lectus auctor lobortis. Proin nec scelerisque turpis. Vestibulum felis lectus, tempor vitae nulla non, mollis eleifend libero. Nam quam sem, tempus semper egestas ut, dictum vel purus. Suspendisse eu eros libero. Vivamus faucibus ligula sit amet mi vestibulum, a iaculis nulla aliquet.",div2Text:"",div3Text:""},"div3Text","")},methods:{onWaypoint:function(e){var t=e.el,i=e.going,a=e.direction;i===this.$waypointMap.GOING_IN&&console.log("waypoint going in!",t.id),a===this.$waypointMap.DIRECTION_TOP&&console.log("waypoint going top!",t.id)}},mounted:function(){}},S={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"right-panel"}},[i("h3",[e._v(e._s(e.msg))]),e._v(" "),i("Histogram"),e._v(" "),i("div",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:e.onWaypoint},expression:"{ active: true, callback: onWaypoint }"}],staticClass:"scrollSection",attrs:{id:"div1"}},[e._v("\n      "+e._s(e.div1Text)+"\n    ")]),e._v(" "),i("div",{staticClass:"scrollSection div2"},[e._v(e._s(e.div1Text))]),e._v(" "),i("div",{staticClass:"scrollSection div3"},[e._v(e._s(e.div1Text))]),e._v(" "),i("div",{staticClass:"scrollSection div4"},[e._v(e._s(e.div1Text))])],1)},staticRenderFns:[]};var H={name:"MainContent",components:{RightPanel:i("VU/8")(E,S,!1,function(e){i("FYA/")},null,null).exports,Header:g,Map:h},mounted:function(){}},I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Header"),this._v(" "),t("div",{attrs:{id:"grid-wrapper"}},[t("Map"),this._v(" "),t("RightPanel")],1)],1)},staticRenderFns:[]};var M=i("VU/8")(H,I,!1,function(e){i("Ajec")},null,null).exports;a.a.use(P.a);var $={name:"RightPanel",components:{Histogram:R},data:function(){return{header:"Example Header",div1Text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vitae nulla maximus magna fermentum condimentum eget non massa. Proin auctor nisi molestie velit lobortis vestibulum. Sed efficitur suscipit lorem sed aliquet. In vulputate, odio nec eleifend iaculis, metus leo sodales magna, eget tincidunt massa erat sit amet justo. In mollis enim at aliquam posuere. Nulla finibus sed quam eget bibendum. Aliquam quis ultricies mi. Cras nec molestie tellus. Donec ac interdum ex. Quisque vel ipsum vel lectus auctor lobortis. Proin nec scelerisque turpis. Vestibulum felis lectus, tempor vitae nulla non, mollis eleifend libero. Nam quam sem, tempus semper egestas ut, dictum vel purus. Suspendisse eu eros libero. Vivamus faucibus ligula sit amet mi vestibulum, a iaculis nulla aliquet."}},methods:{mounted:function(){}}},F={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"story-wrapper"},[i("div",{staticClass:"intro"},[i("div",{staticClass:"white-space"}),e._v(" "),e._t("header",[i("header",[e._v(e._s(e.header))])]),e._v(" "),e._t("text",[i("p",[e._v(e._s(e.div1Text)+"\n        ")])])],2)])},staticRenderFns:[]};var N=i("VU/8")($,F,!1,function(e){i("6XdH")},null,null).exports;a.a.use(P.a);var T={name:"RightPanel",components:{Histogram:R,StorySection:N},data:function(){return{header:"Example Header",div1Text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vitae nulla maximus magna fermentum condimentum eget non massa. Proin auctor nisi molestie velit lobortis vestibulum. Sed efficitur suscipit lorem sed aliquet. In vulputate, odio nec eleifend iaculis, metus leo sodales magna, eget tincidunt massa erat sit amet justo. In mollis enim at aliquam posuere. Nulla finibus sed quam eget bibendum. Aliquam quis ultricies mi. Cras nec molestie tellus. Donec ac interdum ex. Quisque vel ipsum vel lectus auctor lobortis. Proin nec scelerisque turpis. Vestibulum felis lectus, tempor vitae nulla non, mollis eleifend libero. Nam quam sem, tempus semper egestas ut, dictum vel purus. Suspendisse eu eros libero. Vivamus faucibus ligula sit amet mi vestibulum, a iaculis nulla aliquet."}},methods:{}},V={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[e._t("map"),e._v(" "),i("div",{staticClass:"right-panel"},[e._t("intro",[i("story-section",[i("header",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.header))]),e._v(" "),i("p",{attrs:{slot:"text"},slot:"text"},[e._v(e._s(e.div1Text))])])]),e._v(" "),i("main",[e._t("main")],2),e._v(" "),i("div",{staticClass:"analysis"},[e._t("analysis",[i("H2",[e._v("Analysis: Histogram of Building Areas")]),e._v(" "),i("Histogram")])],2)],2)],2)},staticRenderFns:[]};var k=i("VU/8")(T,V,!1,function(e){i("I+/L")},null,null).exports;a.a.use(P.a);var A={name:"RightPanel",components:{DefaultHeader:k,Map:h},data:function(){return{title:"Urban Heat"}},methods:{mounted:function(){}}},L={render:function(){var e=this.$createElement,t=this._self._c||e;return t("default-header",[t("Map",{attrs:{slot:"map"},slot:"map"}),this._v(" "),t("div",{attrs:{slot:"header"},slot:"header"},[this._v("\n    "+this._s(this.title)+"\n  ")])],1)},staticRenderFns:[]};var B=i("VU/8")(A,L,!1,function(e){i("yJSG")},null,null).exports;a.a.use(P.a);var U={name:"RightPanel",components:{DefaultHeader:k,Map:h},data:function(){return{title:"Rainwater Retention"}},methods:{mounted:function(){}}},j={render:function(){var e=this.$createElement,t=this._self._c||e;return t("default-header",[t("Map",{attrs:{slot:"map"},slot:"map"}),this._v(" "),t("div",{attrs:{slot:"header"},slot:"header"},[this._v("\n    "+this._s(this.title)+"\n  ")])],1)},staticRenderFns:[]};var G=i("VU/8")(U,j,!1,function(e){i("RSxT")},null,null).exports,O={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"calculator"}},[i("header",[e._v("Benefit Calculator")]),e._v(" "),i("table",[e._m(0),e._v(" "),i("tbody",[e._m(1),e._v(" "),e._m(2),e._v(" "),i("tr",[i("th",[e._v("Square Area of Eligible Roof Space")]),e._v(" "),i("td",[e._v(e._s(Math.round(e.summary.total_area)))])]),e._v(" "),i("tr",[i("th",[e._v("Number of Buildings")]),e._v(" "),i("td",[e._v(e._s(e.summary.cnt))])]),e._v(" "),e._m(3)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Benefit")]),this._v(" "),t("th",[this._v("Within View")]),this._v(" "),t("th",[this._v("Total")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("th",[this._v("Heat Reduction (Avg. Temp Delta)")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("th",[this._v("StormWater Retention (# Gallons)")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("th",[this._v("Cost")])])}]};var W=i("VU/8")({name:"Calculator",data:function(){return{}},computed:{summary:function(){return this.$store.getters.getSummary}},methods:{}},O,!1,function(e){i("P/6l")},null,null).exports,D=i("QtGs"),Q=i.n(D);a.a.use(P.a);var Y={name:"SystemsView",components:{Calculator:W,DefaultHeader:k,Map:h,Histogram:R,StorySection:N},data:function(){return{title:"Exploring the Potential of Green Roofs in NYC",intro:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent quis facilisis nibh, sed blandit ligula. Phasellus sodales sapien non tincidunt volutpat. Maecenas eu malesuada lacus. Pellentesque vitae velit vel elit varius tristique vel sit amet dolor. Fusce scelerisque metus odio, quis eleifend lorem interdum tempor. Etiam semper sit amet leo in pellentesque. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.",storyText:{}}},created:function(){this.storyText=Q.a},methods:{onWaypoint:function(e){var t=e.el,i=e.going,a=e.direction;i===this.$waypointMap.GOING_IN&&(console.log("waypoint going in!",t.id),ae.$emit("waypoint",{el:t.id,direction:a}))}}},z={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("default-header",[i("Map",{attrs:{slot:"map"},slot:"map"}),e._v(" "),i("div",{attrs:{slot:"intro"},slot:"intro"},[i("story-section",[i("header",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:e.onWaypoint},expression:"{ active: true, callback: onWaypoint}"}],attrs:{slot:"header"},slot:"header"},[e._v("\n        "+e._s(e.title)+"\n      ")]),e._v(" "),i("p",{attrs:{slot:"text"},slot:"text"},[e._v(e._s(e.intro))])])],1),e._v(" "),i("div",{attrs:{slot:"main"},slot:"main"},e._l(e.storyText,function(t,a){return i("story-section",{key:a},[i("header",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:e.onWaypoint},expression:"{ active: true, callback: onWaypoint}"}],attrs:{slot:"header",id:a},slot:"header"},[e._v("\n        "+e._s(t.header)+"\n      ")]),e._v(" "),i("p",{attrs:{slot:"text"},slot:"text"},[e._v("\n        "+e._s(t.text)+"\n      ")])])})),e._v(" "),i("div",{attrs:{slot:"analysis"},slot:"analysis"},[i("story-section",[i("header",{attrs:{slot:"header"},slot:"header"},[e._v("Analysis:\n        "),i("br"),e._v("\n        Histogram of Building Areas")]),e._v(" "),i("div",{attrs:{slot:"text"},slot:"text"},[i("histogram"),e._v(" "),i("calculator")],1)])],1)],1)},staticRenderFns:[]};var X=i("VU/8")(Y,z,!1,function(e){i("IzsO")},null,null).exports,J={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"landing-page-wrapper"},[i("h1",[e._v(e._s(e.title))]),e._v(" "),i("div",{staticClass:"buttons-container"},[e._v("\n      Lenses:\n      "),i("button",{staticClass:"landing-page-button"},[i("router-link",{attrs:{to:"/urban-heat"}},[e._v("Urban Heat")])],1),e._v(" "),i("button",{staticClass:"landing-page-button"},[i("router-link",{attrs:{to:"/stormwater"}},[e._v("Rainwater Retention")])],1),e._v(" "),i("button",{staticClass:"landing-page-button"},[i("router-link",{attrs:{to:"/systems"}},[e._v("Combined - Systems View")])],1)])])])},staticRenderFns:[]};i("VU/8")({name:"LandingPage",data:function(){return{title:"Green Roofs in New York City"}},mounted:function(){}},J,!1,function(e){i("oeBB")},null,null).exports;a.a.use(o.a);var Z=new o.a({routes:[{path:"/story",name:"Home",component:M},{path:"/urban-heat",name:"urban-heat",component:B},{path:"/stormwater",name:"stormwater",component:G},{path:"/",name:"systems",component:X}]}),K=i("woOf"),ee=i.n(K),te=i("NYxO");a.a.use(te.a);var ie=new te.a.Store({state:{debug:!0,summary:[],histogram_bins:[]},getters:{getSummary:function(e){return e.summary},getHistogramBins:function(e){return e.histogram_bins}},actions:{setSummary:function(e){ie.commit("storeSummary",e)}},mutations:{storeSummary:function(e,t){e.debug&&console.log("storing summary to store"),e.summary=ee()({},t)},storeHistogramBins:function(e,t){e.debug&&console.log("storing histogram bins to store"),e.histogram_bins=ee()({},t)}}});i("Q0/0");i.d(t,"bus",function(){return ae});var ae=new a.a;a.a.config.productionTip=!1,new a.a({el:"#app",store:ie,router:Z,components:{App:r},template:"<App/>"})},"P/6l":function(e,t){},"Q0/0":function(e,t){},QtGs:function(e,t){e.exports=[{header:"Urban Heat",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent quis facilisis nibh, sed blandit ligula. Phasellus sodales sapien non tincidunt volutpat. Maecenas eu malesuada lacus. Pellentesque vitae velit vel elit varius tristique vel sit amet dolor. Fusce scelerisque metus odio, quis eleifend lorem interdum tempor. Etiam semper sit amet leo in pellentesque. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos."},{header:"Creating Set of Eligible Roofs 1: Min Height",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent quis facilisis nibh, sed blandit ligula. Phasellus sodales sapien non tincidunt volutpat. Maecenas eu malesuada lacus. Pellentesque vitae velit vel elit varius tristique vel sit amet dolor. Fusce scelerisque metus odio, quis eleifend lorem interdum tempor. Etiam semper sit amet leo in pellentesque. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos."},{header:"Creating Set of Eligible Roofs 2: Min Roof Area",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent quis facilisis nibh, sed blandit ligula. Phasellus sodales sapien non tincidunt volutpat. Maecenas eu malesuada lacus. Pellentesque vitae velit vel elit varius tristique vel sit amet dolor. Fusce scelerisque metus odio, quis eleifend lorem interdum tempor. Etiam semper sit amet leo in pellentesque. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos."},{header:"Creating Set of Eligible Roofs 3: Distance from other roofs",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent quis facilisis nibh, sed blandit ligula. Phasellus sodales sapien non tincidunt volutpat. Maecenas eu malesuada lacus. Pellentesque vitae velit vel elit varius tristique vel sit amet dolor. Fusce scelerisque metus odio, quis eleifend lorem interdum tempor. Etiam semper sit amet leo in pellentesque. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos."},{header:"Goals",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent quis facilisis nibh, sed blandit ligula. Phasellus sodales sapien non tincidunt volutpat. Maecenas eu malesuada lacus. Pellentesque vitae velit vel elit varius tristique vel sit amet dolor. Fusce scelerisque metus odio, quis eleifend lorem interdum tempor. Etiam semper sit amet leo in pellentesque. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos."}]},RSxT:function(e,t){},ewpq:function(e,t){},kMrT:function(e,t){},oeBB:function(e,t){},xnE8:function(e,t){},yJSG:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ad8d34216f28171faa1f.js.map